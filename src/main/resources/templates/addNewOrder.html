<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>crm 系统</title>
</head>

<script src="./js/jQuery.js"></script>
<script src="./js/editUserInfo.js"></script>

<body>

<br />
<h1 style="text-align: center;width:100%;">CRM管理系统</h1>
<br />
<h1 style="text-align: center;width:100%;">新增订单信息</h1>
<br />
<br />
<div class='text1' style="text-align: center">
<button class="btn" th:onclick="window.location.href='index'">回到首页</button>
</div>
<hr />
<br />
<br />
<br />
<div class='text1' style="text-align: center">
    <!-- 表单提交用户信息,注意字段的设置,直接是*{} -->
    <form action="#" th:action="@{/addNewOrder}" th:object="${orderCustomer}"  method="post" onSubmit="return checkUpdateUser()">
        <div><span>订单编号</span><input type="text" readonly="true" th:field="${orderCustomer.order.orderEncode}" /> </div>
        <input type="hidden" th:field="${orderCustomer.order.orderNumber}"/>
        <div><span>下单日期</span><input type="date" readonly="true" th:field="${orderCustomer.order.orderDate}"/>  </div>
        <div><span>客户名称</span><input type="text" readonly="true" th:field="${orderCustomer.customer.name}" /> </div>
        <div><span>联系人</span><input type="text" readonly="true" th:field="${orderCustomer.customer.linkMan}" /> </div>
        <div><span>联系电话</span><input type="text" readonly="true" th:field="${orderCustomer.customer.phoneNumber}" /> </div>
        <div><span>报告邮箱</span><input type="text" readonly="true" th:field="${orderCustomer.customer.email}" /> </div>
        <input type="hidden" th:field="${orderCustomer.customer.customerId}"/>

        <div>
            <span>下单类型</span>
            <select th:field="${orderCustomer.order.orderType}">
                <option th:each="obj:${pageListMapUtil.orderTypeList}"
                        th:selected="${orderCustomer.order.orderType eq obj}"
                        th:value="${obj}"
                        th:text="${obj}" >
                </option>
            </select>
        </div>

        <div>
            <span>业务类型</span>
            <select th:field="${orderCustomer.order.serviceType}">
                <option th:each="obj:${pageListMapUtil.orderServiceTypeList}"
                        th:selected="${orderCustomer.order.serviceType eq obj}"
                        th:value="${obj}"
                        th:text="${obj}" >
                </option>
            </select>
        </div>
        <div>
            <span>承接实验室</span>
            <select th:field="${orderCustomer.order.receiveLabor}">
                <option th:each="obj:${pageListMapUtil.receiveLaborList}"
                        th:selected="${orderCustomer.order.receiveLabor eq obj}"
                        th:value="${obj}"
                        th:text="${obj}" >
                </option>
            </select>
        </div>

        <div><span>特殊要求或注意点</span><input type="text" th:field="${orderCustomer.order.specialRequest}" />  </div>
        <div><span>收费金额（含税）</span><input type="text" th:field="${orderCustomer.order.charge}" />  </div>

        <div>
            <span>优惠条件</span>
            <select th:field="${orderCustomer.order.cheapCondition}">
                <option th:each="obj:${pageListMapUtil.cheapConditionList}"
                        th:selected="${orderCustomer.order.cheapCondition eq obj}"
                        th:value="${obj}"
                        th:text="${obj}" >
                </option>
            </select>
        </div>

        <div><span>实际下单金额（含税）</span><input type="text" th:field="${orderCustomer.order.realCharge}" />  </div>
        <div><span>已到账金额</span><input type="text" th:field="${orderCustomer.order.accountCharge}" />  </div>
        <div><span>尾款</span><input type="text" th:field="${orderCustomer.order.tailCharge}" />  </div>
        <div><span>常化所成本</span><input type="text" th:field="${orderCustomer.order.CHCost}" />  </div>
        <div><span>联泓成本</span><input type="text" th:field="${orderCustomer.order.LHCost}" />  </div>
        <div><span>委外成本</span><input type="text" th:field="${orderCustomer.order.WWCost}" />  </div>
<!--        <div> <button class="btn" th:onclick="window.location.href='addRelatedCustomer?orderCustomer='+orderCustomer">关联客户</button> </div>-->

        <div>
            <span>项目进展</span>
            <select th:field="${orderCustomer.order.projectProcess}">
                <option th:each="obj:${pageListMapUtil.projectProcessList}"
                        th:selected="${orderCustomer.order.projectProcess eq obj}"
                        th:value="${obj}"
                        th:text="${obj}" >
                </option>
            </select>
        </div>
        <div><span>其他说明</span><input type="text" th:field="${orderCustomer.order.otherRemark}" />  </div>
        <div><span>销售负责人</span><input type="text" th:field="${orderCustomer.order.salePerson}" />  </div>
        <div><span>样品名称</span><input type="text" th:field="${orderCustomer.order.exampleName}" />  </div>
        <div><span>测试项目</span><input type="text" th:field="${orderCustomer.order.testProject}" />  </div>
        <div><span>负责工程师</span><input type="text" th:field="${orderCustomer.order.dutyProjector}" />  </div>
        <div>
            <span>发票状态</span>
            <select th:field="${orderCustomer.order.ticketStatus}">
                <option th:each="obj:${pageListMapUtil.ticketStatusList}"
                        th:selected="${orderCustomer.order.ticketStatus eq obj}"
                        th:value="${obj}"
                        th:text="${obj}" >
                </option>
            </select>
        </div>

        <input type="submit" value="确认添加新订单" />
</form>
<!--    <div> <button class="btn" th:onclick="window.location.href='addRelatedCustomer?orderCustomer='+orderCustomer">关联客户</button> </div>-->

</div>

</body>
</html>